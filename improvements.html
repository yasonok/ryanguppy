<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ  ryanguppy æ”¹å–„å»ºè­°è¡¨å–®</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }
        .container { max-width: 800px; margin: 0 auto; }
        
        header {
            text-align: center;
            padding: 30px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            margin-bottom: 30px;
        }
        header h1 { font-size: 1.8rem; margin-bottom: 10px; }
        header p { color: #888; }
        
        .section {
            background: rgba(255,255,255,0.05);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
        }
        .section h2 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* è¡¨å–®æ¨£å¼ */
        .form-group { margin-bottom: 16px; }
        label { display: block; margin-bottom: 6px; color: #aaa; font-size: 0.9rem; }
        input, textarea, select {
            width: 100%;
            padding: 12px;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-size: 1rem;
        }
        textarea { min-height: 100px; resize: vertical; }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s;
        }
        .btn-primary {
            background: #4ade80;
            color: #1a1a2e;
            font-weight: 600;
        }
        .btn-primary:hover { background: #22c55e; }
        
        /* é …ç›®åˆ—è¡¨ */
        .item {
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            border-left: 4px solid #4ade80;
        }
        .item.done {
            border-left-color: #64748b;
            opacity: 0.6;
        }
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 8px;
        }
        .item-title { font-weight: 600; font-size: 1.05rem; }
        .item-meta { font-size: 0.8rem; color: #666; }
        
        .tag {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            background: rgba(74, 222, 128, 0.2);
            color: #4ade80;
        }
        
        .checkbox {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        /* å¯†ç¢¼ä¿è­· */
        .locked {
            text-align: center;
            padding: 60px 20px;
        }
        .locked input {
            max-width: 300px;
            margin: 20px auto;
        }
        
        .hidden { display: none; }
        
        /* å‹•ç•« */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .item { animation: slideIn 0.3s ease; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ  ryanguppy æ”¹å–„å»ºè­°è¡¨å–®</h1>
            <p>Leo ä¸‹æŒ‡ä»¤ â†’ Sarah åŸ·è¡Œ</p>
        </header>
        
        <!-- ç™»å…¥ä¿è­· -->
        <div id="loginSection" class="section locked">
            <h2>ğŸ” ç®¡ç†å“¡ç™»å…¥</h2>
            <input type="password" id="adminPassword" placeholder="è«‹è¼¸å…¥å¯†ç¢¼" />
            <button class="btn btn-primary" onclick="login()">ç™»å…¥</button>
            <p id="loginError" style="color: #f87171; margin-top: 10px; display: none;">å¯†ç¢¼éŒ¯èª¤</p>
        </div>
        
        <!-- ä¸»è¦å…§å®¹ -->
        <div id="mainContent" class="hidden">
            <!-- æ–°å¢å»ºè­°è¡¨å–® -->
            <div class="section">
                <h2>ğŸ“ æ–°å¢æ”¹å–„é …ç›®</h2>
                <div class="form-group">
                    <label>é …ç›®åç¨±</label>
                    <input type="text" id="itemTitle" placeholder="ä¾‹å¦‚ï¼šå„ªåŒ–å•†å“å¡ç‰‡æ¨£å¼" />
                </div>
                <div class="form-group">
                    <label>å„ªå…ˆç´š</label>
                    <select id="itemPriority">
                        <option value="low">ğŸŸ¢ ä½ - æœ‰ç©ºå†åš</option>
                        <option value="medium" selected>ğŸŸ¡ ä¸­ - æ­£å¸¸æ’ç¨‹</option>
                        <option value="high">ğŸ”´ é«˜ - å„ªå…ˆè™•ç†</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>è©³ç´°èªªæ˜</label>
                    <textarea id="itemDesc" placeholder="æè¿°é€™å€‹æ”¹å–„é …ç›®è¦åšä»€éº¼..."></textarea>
                </div>
                <button class="btn btn-primary" onclick="addItem()">â• æ–°å¢é …ç›®</button>
            </div>
            
            <!-- å¾…åŸ·è¡Œé …ç›® -->
            <div class="section">
                <h2>ğŸ“‹ å¾…åŸ·è¡Œ (<span id="pendingCount">0</span>)</h2>
                <div id="pendingList"></div>
            </div>
            
            <!-- å·²å®Œæˆé …ç›® -->
            <div class="section">
                <h2>âœ… å·²å®Œæˆ (<span id="doneCount">0</span>)</h2>
                <div id="doneList"></div>
            </div>
        </div>
    </div>
    
    <script>
        // ç°¡å–®çš„æœ¬åœ°å­˜å„² + å¯†ç¢¼ä¿è­·
        const STORAGE_KEY = 'ryanguppy_improvements';
        const PASSWORD = 'leo123'; // å¯ä¿®æ”¹å¯†ç¢¼
        
        let items = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
        
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            // æª¢æŸ¥æ˜¯å¦å·²ç™»å…¥
            if (sessionStorage.getItem('adminLoggedIn')) {
                showMainContent();
            }
        });
        
        function login() {
            const password = document.getElementById('adminPassword').value;
            if (password === PASSWORD) {
                sessionStorage.setItem('adminLoggedIn', 'true');
                showMainContent();
            } else {
                document.getElementById('loginError').style.display = 'block';
            }
        }
        
        function showMainContent() {
            document.getElementById('loginSection').classList.add('hidden');
            document.getElementById('mainContent').classList.remove('hidden');
            renderItems();
        }
        
        function addItem() {
            const title = document.getElementById('itemTitle').value.trim();
            const priority = document.getElementById('itemPriority').value;
            const desc = document.getElementById('itemDesc').value.trim();
            
            if (!title) {
                alert('è«‹è¼¸å…¥é …ç›®åç¨±');
                return;
            }
            
            const item = {
                id: Date.now(),
                title,
                priority,
                desc,
                done: false,
                createdAt: new Date().toISOString(),
                doneAt: null
            };
            
            items.unshift(item);
            saveItems();
            renderItems();
            
            // æ¸…ç©ºè¡¨å–®
            document.getElementById('itemTitle').value = '';
            document.getElementById('itemDesc').value = '';
        }
        
        function toggleItem(id) {
            const item = items.find(i => i.id === id);
            if (item) {
                item.done = !item.done;
                item.doneAt = item.done ? new Date().toISOString() : null;
                saveItems();
                renderItems();
            }
        }
        
        function deleteItem(id) {
            if (confirm('ç¢ºå®šè¦åˆªé™¤é€™å€‹é …ç›®å—ï¼Ÿ')) {
                items = items.filter(i => i.id !== id);
                saveItems();
                renderItems();
            }
        }
        
        function saveItems() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(items));
        }
        
        function renderItems() {
            const pending = items.filter(i => !i.done);
            const done = items.filter(i => i.done);
            
            document.getElementById('pendingCount').textContent = pending.length;
            document.getElementById('doneCount').textContent = done.length;
            
            document.getElementById('pendingList').innerHTML = pending.map(item => renderItem(item)).join('');
            document.getElementById('doneList').innerHTML = done.map(item => renderItem(item)).join('');
        }
        
        function renderItem(item) {
            const priorityColors = {
                low: '#4ade80',
                medium: '#fbbf24',
                high: '#f87171'
            };
            const priorityLabels = {
                low: 'ğŸŸ¢ ä½',
                medium: 'ğŸŸ¡ ä¸­',
                high: 'ğŸ”´ é«˜'
            };
            
            return `
                <div class="item ${item.done ? 'done' : ''}">
                    <div class="item-header">
                        <div>
                            <input type="checkbox" class="checkbox" 
                                ${item.done ? 'checked' : ''} 
                                onchange="toggleItem(${item.id})" />
                            <span class="item-title">${item.title}</span>
                            <span class="tag" style="background: ${priorityColors[item.priority]}20; color: ${priorityColors[item.priority]}">
                                ${priorityLabels[item.priority]}
                            </span>
                        </div>
                        <button onclick="deleteItem(${item.id})" style="background: none; border: none; color: #666; cursor: pointer;">ğŸ—‘ï¸</button>
                    </div>
                    ${item.desc ? `<p style="color: #aaa; margin-top: 8px;">${item.desc}</p>` : ''}
                    <div class="item-meta" style="margin-top: 8px;">
                        å»ºç«‹æ–¼ï¼š${new Date(item.createdAt).toLocaleString('zh-TW')}
                        ${item.doneAt ? `<br>å®Œæˆæ–¼ï¼š${new Date(item.doneAt).toLocaleString('zh-TW')}` : ''}
                    </div>
                </div>
            `;
        }
    </script>
</body>
</html>
